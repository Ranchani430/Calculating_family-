// Family Expenses Calculator - React Component
// Save as: FamilyExpenseCalculator.jsx

import React, { useState, useEffect } from 'react';
import { Trash2, PlusCircle, DollarSign, TrendingUp, TrendingDown } from 'lucide-react';

export default function FamilyExpenseCalculator() {
  const [expenses, setExpenses] = useState([]);
  const [category, setCategory] = useState('');
  const [amount, setAmount] = useState('');
  const [description, setDescription] = useState('');
  const [date, setDate] = useState(new Date().toISOString().split('T')[0]);

  const categories = [
    'Housing', 'Food & Groceries', 'Transportation', 'Utilities',
    'Healthcare', 'Education', 'Entertainment', 'Clothing',
    'Insurance', 'Savings', 'Debt Payment', 'Other'
  ];

  const addExpense = () => {
    if (category && amount && parseFloat(amount) > 0) {
      const newExpense = {
        id: Date.now(),
        category,
        amount: parseFloat(amount),
        description,
        date
      };
      setExpenses([...expenses, newExpense]);
      setCategory('');
      setAmount('');
      setDescription('');
      setDate(new Date().toISOString().split('T')[0]);
    }
  };

  const deleteExpense = (id) => {
    setExpenses(expenses.filter(exp => exp.id !== id));
  };

  const totalExpenses = expenses.reduce((sum, exp) => sum + exp.amount, 0);

  const expensesByCategory = expenses.reduce((acc, exp) => {
    acc[exp.category] = (acc[exp.category] || 0) + exp.amount;
    return acc;
  }, {});

  const sortedCategories = Object.entries(expensesByCategory)
    .sort(([, a], [, b]) => b - a);

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4 sm:p-6">
      <div className="max-w-6xl mx-auto">
        <div className="bg-white rounded-2xl shadow-xl p-6 sm:p-8 mb-6">
          <div className="flex items-center justify-center mb-6">
            <DollarSign className="w-10 h-10 text-indigo-600 mr-3" />
            <h1 className="text-3xl sm:text-4xl font-bold text-gray-800">Family Expenses</h1>
          </div>

          <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
            <div className="bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl p-6 text-white shadow-lg">
              <p className="text-sm opacity-90 mb-1">Total Expenses</p>
              <p className="text-3xl font-bold">₹{totalExpenses.toFixed(2)}</p>
            </div>
            <div className="bg-gradient-to-br from-green-500 to-teal-600 rounded-xl p-6 text-white shadow-lg">
              <p className="text-sm opacity-90 mb-1">Total Categories</p>
              <p className="text-3xl font-bold">{Object.keys(expensesByCategory).length}</p>
            </div>
            <div className="bg-gradient-to-br from-orange-500 to-red-600 rounded-xl p-6 text-white shadow-lg">
              <p className="text-sm opacity-90 mb-1">Total Entries</p>
              <p className="text-3xl font-bold">{expenses.length}</p>
            </div>
            <div className="bg-gradient-to-br from-pink-500 to-rose-600 rounded-xl p-6 text-white shadow-lg">
              <p className="text-sm opacity-90 mb-1">Average Expense</p>
              <p className="text-3xl font-bold">
                ₹{expenses.length > 0 ? (totalExpenses / expenses.l
